import{d as V,r as c,E as b,c as p,g as d,a as u,F as x,x as k,l as C,u as i,h as f,t as _,z as E,G as L,H as S,e as B,o as v,f as g}from"./vendor.1d2f60e7.js";import{v as P,a as T}from"./validation.36d38792.js";import{_ as N,g as j,a as w}from"./index.a210367a.js";import{T as q}from"./Title.2c3d75b4.js";const A={id:"login",class:"page"},U=["onSubmit"],$={class:"alert alert-danger mb-4"},z={class:"form-btns"},D=["disabled"],G=g("\u{1F4CB} Create Account"),H=g(" \u2754 Forgot Password "),I=V({setup(M){const m=c(!1);L();const y=S("authService"),o=c(!1),n=c([]),s=b({email:j("email"),password:""}),t=b({email:"",password:""});function h(){let r=!0;n.value=[],t.email="",t.password="",t.email=P(s.email),t.email&&(r=!1),t.password=T(s.password),t.password&&(r=!1),r&&F()}async function F(){var r,a;try{o.value=!0;const e={email:s.email,password:s.password};(await y.signin(e)).accessToken}catch(e){e.response&&(((r=e.response.data)==null?void 0:r.statusCode)===400?n.value=e.response.data.message:((a=e.response.data)==null?void 0:a.statusCode)===401&&n.value.push(e.response.data.message))}finally{o.value=!1}}return(r,a)=>{const e=B("router-link");return v(),p("div",A,[d(q,{title:"Login"}),u("form",{onSubmit:E(h,["prevent"]),class:"",novalidate:"",autocomplete:"off"},[n.value.length?(v(!0),p(x,{key:0},k(n.value,l=>(v(),p("div",$," \u26A0\uFE0F "+_(l),1))),256)):C("",!0),d(w,{class:"mb-3",label:"Email",id:"emoji-email",type:"email",modelValue:i(s).email,"onUpdate:modelValue":a[0]||(a[0]=l=>i(s).email=l),disabled:o.value,required:"",error:i(t).email},null,8,["modelValue","disabled","error"]),d(w,{class:"mb-4",label:"Password",id:"password",type:"password",modelValue:i(s).password,"onUpdate:modelValue":a[2]||(a[2]=l=>i(s).password=l),disabled:o.value,required:"",error:i(t).password},{button:f(()=>[u("button",{type:"button",class:"btn btn-primary",onClick:a[1]||(a[1]=l=>m.value=!m.value),"aria-label":"Toggle Show Old Password"},_(m.value?"\u{1F576}\uFE0F":"\u{1F453}"),1)]),_:1},8,["modelValue","disabled","error"]),u("div",z,[u("button",{type:"submit",class:"btn btn-primary w-100 mb-3 fs-5",disabled:o.value}," \u{1F3B2} "+_(o.value?"Loading...":"Login"),9,D),d(e,{to:"/register",class:"btn btn-outline-secondary w-100 mb-3 fs-5"},{default:f(()=>[G]),_:1}),d(e,{to:"/forgot-password",class:"w-100 mb-3 text-center d-block text-dark text-decoration-none",disabled:o.value},{default:f(()=>[H]),_:1},8,["disabled"])])],40,U)])}}});var K=N(I,[["__scopeId","data-v-0468e38e"]]);export{K as default};
